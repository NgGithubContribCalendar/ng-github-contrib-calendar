!function(e){var n,t,s,a,c,i,r,o=15,l=500,u=void 0!==history.pushState,h=$("body");function p(s){h.addClass("with-search"),"block"===r.css("display")&&(i.css("height","calc(100% - 100px)"),i.css("margin-top","100px")),e.search.query(s,0,o).then(function(e){var s,i;i=0==(s=e).count,n.toggleClass("no-results",i),t.empty(),a.text(s.count),c.text(s.query),s.results.forEach(function(e){var n=$("<li>",{class:"search-results-item"}),s=$("<h3>"),a=e.body.trim(),c="";switch(COMPODOC_CURRENT_PAGE_DEPTH){case 0:c="./";break;case 1:c="../";break;case 2:c="../../"}var i=$("<a>",{href:c+e.url,text:e.title});a.length>l&&(a=a.slice(0,l).trim()+"...");var r=$("<p>").html(a);i.appendTo(s),s.appendTo(n),r.appendTo(n),n.appendTo(t)})})}function d(){function e(e){var n=e.val();0==n.length?(h.removeClass("with-search"),"block"===r.css("display")&&(i.css("height","calc(100% - 50px)"),i.css("margin-top","50px")),window.location.href=window.location.href.replace(window.location.search,"")):p(n)}$searchInputs=$("#book-search-input input"),n=$(".search-results"),t=n.find(".search-results-list"),s=n.find(".search-results-title"),a=s.find(".search-results-count"),c=s.find(".search-query"),i=$(".container-fluid"),r=$(".xs-menu");var o=!1;$.each($searchInputs,function(n,t){(t=$(t)).on("input",function(){o||($(this).unbind("propertychange"),o=!0),e($(this))}),t.on("propertychange",function(n){"value"==n.originalEvent.propertyName&&e($(this))}),t.on("blur",function(){if(u){var e=function(e,n){n=encodeURIComponent(n);var t,s=window.location.href,a=new RegExp("([?&])"+e+"=.*?(&|#|$)(.*)","gi");if(a.test(s))return void 0!==n&&null!==n?s.replace(a,"$1"+e+"="+n+"$2$3"):(t=s.split("#"),s=t[0].replace(a,"$1$3").replace(/(&|\?)$/,""),void 0!==t[1]&&null!==t[1]&&(s+="#"+t[1]),s);if(void 0!==n&&null!==n){var c=-1!==s.indexOf("?")?"&":"?";return t=s.split("#"),s=t[0]+c+e+"="+n,void 0!==t[1]&&null!==t[1]&&(s+="#"+t[1]),s}return s}("q",$(this).val());""!==$(this).val()&&history.pushState({path:e},null,e)}})})}function f(){var e=function(e){var n=window.location.href;e=e.replace(/[\[\]]/g,"\\$&");var t=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)","i").exec(n);return t?t[2]?decodeURIComponent(t[2].replace(/\+/g," ")):"":null}("q");e&&e.length>0&&($.each($searchInputs,function(n,t){(t=$(t)).val(e)}),p(e))}e.addEventListener(e.EVENTS.SEARCH_READY,function(){d(),document.getElementById("btn-menu").addEventListener("click",function(){"none"===r.css("display")&&(h.removeClass("with-search"),i.css("height","calc(100% - 50px)"),i.css("margin-top","50px")),$.each($searchInputs,function(e,n){(n=$(n)).val("")})}),f()})}(compodoc);